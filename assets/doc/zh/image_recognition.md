# 项目图片识别机制文档

## 坐标系统

项目中的坐标原点为 **游戏窗口客户区（client area）的左上角**。

## 图片查找路径机制

| 游戏语言 | 搜索顺序 |
|----------|----------|
| `zh_cn` (中文) | `["zh_cn", "en", "share"]` |
| `en` (英文) | `["en", "share"]` |

## 图像识别

### 图片模板

在使用 `find_element` 方法时，可以使用两种类型的图片模板：

1. **含黑幕的核心图像元素** - 2560×1440 等大尺寸图片，包含黑幕背景和核心UI元素
2. **仅核心图像元素** - 仅包含核心UI元素的裁剪后图片

e.g.
![window_assets](../../images/share/home/window_assets.png) ![pass_coin](../../images/share/pass/pass_coin.png)

### 图片处理逻辑

| 对比维度 | 黑幕+核心图像元素 | 仅核心图像元素 |
|----------|-------------------|----------------|
| **搜索区域** | 自动选择 bbox(非黑幕区域) | 默认全屏 |

### 图片制作准则

1. **基准分辨率**：所有图片资源steam端全屏 **2560×1440 (1440p)** 分辨率下截取
2. **文件命名**：含黑幕的完整截图使用 `assets` 后缀，只有核心图像的截图不使用 `assets` 后缀
3. **优先使用含黑幕的完整截图**：便于系统自动计算有效区域，适应UI变化

分享一个制作链接：<https://www.figma.com/design/DEGOtWVZ5rLzXzX5jXd54h/%E5%9B%BE%E7%89%87%E7%B4%A0%E6%9D%90?node-id=70-5&t=2xNR5DiqFva25uH3-1>

### 匹配阈值

- 默认阈值：`0.8` (80% 相似度)
- 可配置：通过 `threshold` 参数调整
